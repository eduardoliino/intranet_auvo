<div x-data="{ novoComentario: '' }">
  <div class="modal-header">
    <h5 class="modal-title">{{ post.titulo }}</h5>
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="modal"
      aria-label="Close"
    ></button>
  </div>
  <div class="modal-body">
    <div class="nl-content mb-3">{{ post.conteudo_md }}</div>
    <hr />

    <div id="reactions-block-{{ post.id }}" class="mb-3">
      {% include 'partials/_news_post_reactions.html' %}
    </div>

    <h6>Comentários</h6>
    <div
      id="comments-list-{{ post.id }}"
      class="mb-4"
      hx-get="{{ url_for('newsletter.render_post_comments', post_id=post.id) }}"
      hx-trigger="load, every 10s"
      hx-swap="innerHTML"
    >
      {% include 'partials/_news_post_comments.html' %}
    </div>

    <div class="input-group">
      <input
        id="comment-input-{{ post.id }}"
        type="text"
        class="form-control"
        placeholder="Adicionar um comentário..."
        onkeydown="if(event.key === 'Enter'){ submitComment({{ post.id }}); event.preventDefault(); }"
      />
      <button
        class="btn btn-outline-secondary"
        onclick="submitComment({{ post.id }})"
      >
        Enviar
      </button>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
      Fechar
    </button>
  </div>
</div>
