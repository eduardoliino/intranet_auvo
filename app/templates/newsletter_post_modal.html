<div class="space-y-2" x-data="{novoComentario:'', estrelas:''}">
  <h2 class="text-xl font-bold">{{ post.titulo }}</h2>
  <div class="prose max-w-none">{{ post.conteudo_md }}</div>
  <div class="flex space-x-2 mt-2">
    {% for r in ['like','palmas','coracao','genial','feliz'] %}
    <button class="px-2" @click.stop="react('{{r}}', {{post.id}})">{{ {'like':'👍','palmas':'👏','coracao':'❤️','genial':'💡','feliz':'😊'}[r] }}</button>
    {% endfor %}
  </div>
  <div id="comentarios-{{post.id}}" class="space-y-1 mt-2">
    {% for c in post.comentarios %}
      {% if not c.excluido %}
      <p class="text-sm">{{ c.texto }}</p>
      {% endif %}
    {% endfor %}
  </div>
  <div class="mt-2 flex space-x-2">
    <input type="text" class="border flex-1" x-model="novoComentario" placeholder="Comentário" />
    <button class="bg-blue-500 text-white px-2" @click="createComment({{post.id}}, novoComentario); novoComentario=''">Enviar</button>
  </div>
  <div class="mt-2">
    <select x-model="estrelas" @change="ratePost({{post.id}}, estrelas)">
      <option value="">Avaliar</option>
      {% for i in range(1,6) %}<option value="{{i}}">{{i}} ⭐</option>{% endfor %}
    </select>
  </div>
</div>
